# 函数式编程  

### 介绍  

- 函数式编程越来越广泛  vue3.0 react
- 函数是编程可以抛弃this  
- 更好的利用tree shaking优化代码  
- 方便测试、方便并行处理  
- lodash underscore ramda支持    

- 面向对象：封装、继承、多态  
- 函数式编程：对运算过程进行抽象  
- 用来描述数据（函数）之间的映射

---

#### 函数是一等公民

First-class Function  

- 函数可以存储在变量中  

- 函数可以作为参数  

- 函数作为返回值     

   

#### 高阶函数  

- 可以把函数作为参数传递给另一个参数 
- 可以把函数作为另一个函数的返回结果  
- 意义： 
  - 抽象可以帮我们屏蔽细节，只需要关注与我们的目标
  - 用来抽象通用的问题



#### 闭包

- 函数和其周围的状态的引用捆绑在一起形成闭包
  - 可以在另一个作用域中调用一个函数的内部函数并访问到该函数的作用域中的成员
  - 闭包的本质：函数在执行的时候会放到一个执行栈上，当函数执行完毕之后侯聪该执行栈上移除，***但是对上的作用域成员因为被外部引用不能释放***，因此内部函数依然可以访问外部函数的成员。

#### 纯函数

	##### 纯函数的概念

- 纯函数： 相同的输入永远都会得到相同的输出，而且没有任何可观察的副作用
  - 纯函数就类似数学中的函数
  - lodash
    - 
  - 数组的slice和splice分别是纯函数和不纯函数
  - 函数式编程不会保留计算中间的结构，所以变量是不可变的（无状态的）
  - 可以把一个函数的执行结果交给另一个函数去处理、

##### 纯函数的好处

- 可缓存
  - 因为纯函数对相同的输入始终有相同的结果，所以可以把纯函数的结果缓存起来
- 可测试
  - 纯函数让测试更方便
- 并行处理
  - 在多线程环境下并行操作共享的内存数据很可能会出现意外情况
  - 纯函数不需要访问共享的内存数据，所以在并行环境下可以任意运行纯函数(Web Worker)

##### 纯函数的副作用

- 副作用让一个函数变的不纯，如果函数依赖于外部的状态就会产生副作用

- 来源：

  - 配置文件
  - 数据库
  - 获取用户的输入
  - ......

  所有的外部交互都有可能代理副作用，副作用也使得方法通用性下降不适合扩展和可重复性，同时副作用会给程序中带来安全隐患给程序带来不确定性，但副职业不可能完全禁止，尽可能控制它们在可控范围内发生。



